# Практика 2. Разработка приложения на основе gRPC

***Запуск***

Собираем систему:
```
docker-compose build
```
Запускаем:
```
docker-compose up
```

Mafia сервер доступен по адресу *server:50051* внутри сети докера prac2_mafia_network и по адресу *0.0.0.0:50051* в случае запуска вручную.

В docker-compose по умолчанию запускается сервер и 4 игрока-бота. Посмотреть журнал этих игроков можно используя *docker logs* и имя контейнера, например:
```
docker logs prac2_client1 | less
```

***Интерактивная версия***

Запуск интерактивного клиента *interactive/interactive.py* используя докер:

Собираем:
```
docker build -t prac2_interactive -f interactive/interactive.dockerfile .
```
Запускаем:
```
docker run --rm -it --network prac2_mafia_network prac2_interactive
```

Пользователю предлагается ввести адрес сервера в формате *host:port* и его имя. Имя должно быть уникальным и не содержать пробелов.

При наличии минимального необходимого числа игроков сервер начнет игру. Игрок получает случайно роль Мафия, Детектив или Мирный. В зависимости от роли, каждую ночь ему будет предложено либо проверить другого игрока, либо устранить, в случае роли Мафия. После каждой ночи игрок может либо голосовать за продолжение

```
continue
```

либо против другого игрока

```
vote "username"
```

Игрок с наибольшим количеством голосов выбывает.

Игра заканчивается когда Мирным и Детективу удается определить и выгнать игрока с ролью Мафия, либо когда Мафия остается один на один с игроком Мирный или Детектив.
